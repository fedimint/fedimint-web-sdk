<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1>Fedimint Typescript Library Demo</h1>
        <div class="steps">
            <strong>Steps to get started:</strong>
            <ol>
                <li>Join a Federation (persists across sessions)</li>
                <li>Generate an Invoice</li>
                <li>
                    Pay the Invoice using the{' '}
                    <a href="https://faucet.mutinynet.com/" target="_blank">
                        mutinynet faucet
                    </a>
                </li>
                <li>
                    Investigate the Browser Tools
                    <ul>
                        <li>Browser Console for logs</li>
                        <li>Network Tab (websocket) for guardian requests</li>
                        <li>Application Tab for state</li>
                    </ul>
                </li>
            </ol>
        </div>
    </header>
    <main>
        <div class="section">
            <h3>Wallet Status</h3>
            <div class="row">
                <strong>Is Wallet Open?</strong>
                <div id="walletResult">No</div>
                <button onclick={checkIsOpen()}>Check</button>
            </div>
            <div class="row">
                <strong>Balance:</strong>
                <div class="balance" id="bal"></div>
                sats
            </div>
        </div>

        <div class="section">
            <h3>Join Federation</h3>
            <form class="row JoinFederation">
                <input id="join-input" class="ecash-input" type="text" placeholder="Invite Code..." required>
                <button type="submit">Join</button>
            </form>
            <div id="joinResult"></div>
        </div>
        <div class="section">
            <h3>Redeem Ecash</h3>
            <form class="row RedeemForm">
                <input id="redeemInput" type="text" placeholder="Long ecash string..." required>
                <button type="submit">redeem</button>
            </form>
            <div id="redeemResult"></div>
        </div>

        <div class="section">
            <h3>Pay Lightning</h3>
            <form class="row PayForm">
                <input id="payInput" type="text" placeholder="lnbc..." required>
                <button type="submit">pay</button>
            </form>
            <div id="payResult"></div>
        </div>

        <div class="section">
            <h3>Generate Lightning Invoice</h3>
            <form class="InvoiceForm">
                <div class="input-group">
                    <label htmlFor="amount">Amount (sats):</label>
                    <input id="Invoiceamount" type="text" placeholder="Enter amount" required>
                </div>
                <div class="input-group">
                    <label htmlFor="description">Description:</label>
                    <input id="description" type="text" placeholder="Enter description" required>
                </div>
                <button type="submit" id="InvoiceBtn">
                    Generate Invoice
                </button>
            </form>
            <div>
                mutinynet faucet:{' '}
                <a href="https://faucet.mutinynet.com/" target="_blank">
                    https://faucet.mutinynet.com/
                </a>
            </div>
            <div class="success"></div>
            <div class="error"></div>
        </div>
    </main>

    <script src="./bundle.js"></script>
</body>

</html>